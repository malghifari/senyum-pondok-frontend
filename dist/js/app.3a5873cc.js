(function(t){function a(a){for(var n,r,i=a[0],l=a[1],c=a[2],d=0,m=[];d<i.length;d++)r=i[d],o[r]&&m.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(a);while(m.length)m.shift()();return s.push.apply(s,c||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],n=!0,i=1;i<e.length;i++){var l=e[i];0!==o[l]&&(n=!1)}n&&(s.splice(a--,1),t=r(r.s=e[0]))}return t}var n={},o={app:0},s=[];function r(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=n,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)r.d(e,n,function(a){return t[a]}.bind(null,n));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=a,i=i.slice();for(var c=0;c<i.length;c++)a(i[c]);var u=l;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var n=e("64a9"),o=e.n(n);o.a},"0a35":function(t,a,e){"use strict";var n=e("2488"),o=e.n(n);o.a},"0dde":function(t,a,e){"use strict";var n=e("6055"),o=e.n(n);o.a},"0e23":function(t,a,e){"use strict";var n=e("3d8b"),o=e.n(n);o.a},"0e2e":function(t,a,e){},"0e72":function(t,a,e){},2488:function(t,a,e){},"288e":function(t,a,e){"use strict";var n=e("f3cf"),o=e.n(n);o.a},"295a":function(t,a,e){},"2d20":function(t,a,e){},"2d85":function(t,a,e){"use strict";var n=e("38d5"),o=e.n(n);o.a},"31ed":function(t,a,e){},"36de":function(t,a,e){"use strict";var n=e("295a"),o=e.n(n);o.a},"38d5":function(t,a,e){},"3bcd":function(t,a,e){},"3d8b":function(t,a,e){},"410d":function(t,a,e){},"42ac":function(t,a,e){},"43d9":function(t,a,e){"use strict";var n=e("5232"),o=e.n(n);o.a},"4bac":function(t,a,e){"use strict";var n=e("f87d"),o=e.n(n);o.a},"4d04":function(t,a,e){},5232:function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var n=e("2b0e"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},s=[],r={name:"app"},i=r,l=(e("034f"),e("2877")),c=Object(l["a"])(i,o,s,!1,null,null,null),u=c.exports,d=(e("f9e3"),e("2dd8"),e("5f5b")),m=e("8c4f"),f=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-div"},[e("nav-bar"),t.message?e("alert",{attrs:{message:t.message,colour:"danger"}}):t._e(),e("div",{staticClass:"main-content"},[e("b-row",{staticClass:"main-row justify-content-md-center"},[e("orang-baik"),e("b-col",{attrs:{sm:"4"}},[e("register",{model:{value:t.message,callback:function(a){t.message=a},expression:"message"}})],1)],1)],1)],1)},p=[],b=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"main-navbar"},[n("b-navbar",{staticClass:"nav-bound",attrs:{toggleable:"lg",type:"dark"}},[n("b-navbar-brand",{attrs:{href:"#"}},[n("div",{staticClass:"brand-senyum-indonesia"},[n("img",{staticClass:"logo",attrs:{src:e("7b8b"),onerror:"this.onerror=null; this.src='../assets/logo-senyum-indonesia-putih.png'"}})])]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",{staticClass:"font-style"},[""!==t.access_token&&"admin"==t.role?n("b-nav-item",{attrs:{href:"/admin/summary"}},[t._v("Rangkuman")]):t._e(),""!==t.access_token&&"admin"==t.role?n("b-nav-item",{attrs:{href:"/admin/biodata-oka"}},[t._v("Biodata OKA")]):t._e(),""!==t.access_token&&"admin"==t.role?n("b-nav-item",{attrs:{href:"/admin/status-infaq"}},[t._v("Status Infaq")]):t._e(),""!==t.access_token&&"admin"==t.role?n("b-nav-item",{attrs:{href:"/admin/verifikasi-infaq"}},[t._v("Verifikasi Infaq")]):t._e(),""!==t.access_token&&"admin"==t.role?n("b-nav-item",{attrs:{href:"/admin/upload-infaq"}},[t._v("Upload Infaq OKA")]):t._e(),""!==t.access_token&&"oka"==t.role?n("b-nav-item",{attrs:{href:"/oka/upload-infaq"}},[t._v("Upload Infaq")]):t._e(),""!==t.access_token&&"oka"==t.role?n("b-nav-item",{attrs:{href:"/oka/change-password"}},[t._v("Ganti Password")]):t._e()],1),n("b-navbar-nav",{staticClass:"ml-auto"},[""==t.access_token?n("b-nav-item",{attrs:{href:"/login"}},[t._v("Login")]):t._e(),""==t.access_token?n("b-nav-item",{attrs:{href:"/register"}},[t._v("Register")]):t._e(),""!==t.access_token?n("b-nav-item",{on:{click:t.logout}},[t._v("Logout")]):t._e()],1)],1)],1)],1)},h=[],g={methods:{viewForm:function(){this.$emit("view")},logout:function(){this.role="",this.access_token="",this.$router.push("/"),window.location.reload()}},computed:{access_token:{get:function(){return localStorage.access_token?localStorage.access_token:""},set:function(t){localStorage.access_token=t}},role:{get:function(){return localStorage.role?localStorage.role:""},set:function(t){localStorage.role=t}}}},v=g,_=(e("0e23"),Object(l["a"])(v,b,h,!1,null,"022b02f8",null)),k=_.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-box"},[t._m(0),e("p",{staticClass:"greeting-2"},[t._v("\n        Selamat bergabung di Pondok Senyum Indonesia, rumah bagi adik-adik istimewa dari pelosok Jawa Barat\n    ")]),t.show?e("b-form",{on:{submit:t.onSubmit}},[t.state_form?t._e():e("div",{staticClass:"state-0"},[e("b-form-group",{attrs:{id:"input-group-1"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-1",required:"",placeholder:"Nama Anda *"},model:{value:t.form.name,callback:function(a){t.$set(t.form,"name",a)},expression:"form.name"}})],1),e("b-form-group",{attrs:{id:"input-group-2"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-2",required:"",placeholder:"Nomor WhatsApp Anda *",state:t.whatsapp_availability,type:"number"},on:{keyup:t.is_whatsapp_available},model:{value:t.form.whatsapp,callback:function(a){t.$set(t.form,"whatsapp",a)},expression:"form.whatsapp"}}),e("b-form-invalid-feedback",{attrs:{state:t.whatsapp_availability}},[t._v("\n                Nomor Whatsapp sudah digunakan\n            ")]),e("b-form-valid-feedback",{attrs:{state:t.whatsapp_availability}},[t._v("\n                Nomor Whatsapp dapat digunakan\n            ")])],1),e("b-form-group",{attrs:{id:"input-group-3b"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-3b",required:"",placeholder:"Tahun kelahiran Anda *",state:t.bornYearValidity},on:{keyup:t.validateBornYear},model:{value:t.form.born_year,callback:function(a){t.$set(t.form,"born_year",a)},expression:"form.born_year"}}),e("b-form-invalid-feedback",{attrs:{state:t.bornYearValidity}},[t._v("\n                Tahun kelahiran tidak valid\n            ")]),e("b-form-valid-feedback",{attrs:{state:t.bornYearValidity}},[t._v("\n                Tahun kelahiran valid\n            ")])],1),e("b-form-group",{attrs:{id:"input-group-3"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-3",required:"",placeholder:"Alamat rumah Anda *"},model:{value:t.form.address,callback:function(a){t.$set(t.form,"address",a)},expression:"form.address"}})],1),e("b-form-group",{attrs:{id:"input-group-4"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-4",placeholder:"Alamat email Anda"},model:{value:t.form.email,callback:function(a){t.$set(t.form,"email",a)},expression:"form.email"}})],1),e("b-form-group",{attrs:{id:"input-group-5"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-5",placeholder:"ID instagram Anda"},model:{value:t.form.instagram,callback:function(a){t.$set(t.form,"instagram",a)},expression:"form.instagram"}})],1),e("b-form-group",{attrs:{id:"input-group-6"}},[e("b-form-select",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-6",options:t.infaq_option,required:""},model:{value:t.selected_infaq,callback:function(a){t.selected_infaq=a},expression:"selected_infaq"}})],1),"Isi sendiri"==t.selected_infaq?e("b-form-group",{attrs:{id:"input-group-6a"}},[e("currency-formatter",{attrs:{placeholder:"Jumlah infaq Anda"},model:{value:t.form.infaq,callback:function(a){t.$set(t.form,"infaq",a)},expression:"form.infaq"}})],1):t._e(),e("b-button",{staticStyle:{"background-color":"#d71149","border-color":"#d71149","border-radius":"3px"},attrs:{block:"",type:"submit"}},[t._v("DAFTAR")])],1),t.state_form?e("div",{staticClass:"state-1"},[e("div",{staticStyle:{"margin-bottom":"10px"}},[e("b-button",{staticStyle:{"background-color":"#d71149","border-color":"#d71149","border-radius":"3px","font-size":"12px"},on:{click:t.backStateForm}},[t._v("BACK")])],1),e("b-form-group",{attrs:{label:"Tentukan password demi keamanan akun Anda",id:"input-group-7"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-7",required:"",type:"password",placeholder:"Password"},model:{value:t.form.password,callback:function(a){t.$set(t.form,"password",a)},expression:"form.password"}})],1),e("b-form-group",{attrs:{id:"input-group-8"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-8",required:"",type:"password",placeholder:"Confirm password"},model:{value:t.form.confirm_password,callback:function(a){t.$set(t.form,"confirm_password",a)},expression:"form.confirm_password"}})],1),e("b-button",{staticStyle:{"background-color":"#d71149","border-color":"#d71149","border-radius":"3px",padding:"0","padding-bottom":"0.9vh"},attrs:{block:"",type:"submit"}},[t.loading?e("b-spinner",{staticStyle:{width:"1rem",height:"1rem"},attrs:{label:"Loading"}}):e("div",[t._v("\n                    SELESAI\n                ")])],1)],1):t._e(),e("p",{staticClass:"link-login-desc"},[t._v("\n            Sudah punya akun? "),e("a",{staticClass:"link-login",attrs:{href:"/login"}},[t._v("Masuk")])])]):t._e()],1)},w=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h5",[t._v("\n        Daftar Menjadi "),e("strong",[t._v("#OrangTuaAsuh")])])}],x=(e("7f7f"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("b-input-group",{attrs:{prepend:"Rp"}},[e("b-input",{ref:"inputNominal",staticStyle:{"border-radius":"3px","font-size":"0.9rem","border-top-left-radius":"0","border-bottom-left-radius":"0"},attrs:{id:"input-6a",placeholder:t.placeholder},on:{blur:function(a){t.isInputActive=!1},focus:function(a){t.isInputActive=!0}},model:{value:t.displayValue,callback:function(a){t.displayValue=a},expression:"displayValue"}})],1)],1)}),S=[],C=e("59ad"),M=e.n(C),q=(e("a481"),e("6b54"),{props:["value","placeholder"],data:function(){return{isInputActive:!1}},computed:{displayValue:{get:function(){if(this.isInputActive)return this.value.toString();var t=(this.value/1).toFixed(2).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},set:function(t){var a=M()(t.replace(/[^\d\.]/g,""));isNaN(a)&&(a=0),this.$emit("input",a)}}}}),O=q,$=(e("e7b3"),Object(l["a"])(O,x,S,!1,null,"e5c85ace",null)),A=$.exports,I=e("bc3a"),B=e.n(I),P={data:function(){return{form:{email:"",name:"",whatsapp:"",address:"",instagram:"",infaq:5e5,password:"",confirm_password:"",born_year:""},infaq_option:[{text:"Jumlah infaq rutin",value:null},"Rp100.000","Rp300.000","Rp500.000","Isi sendiri"],infaq_dict:{"Rp100.000":1e5,"Rp300.000":3e5,"Rp500.000":5e5},selected_infaq:null,show:!0,state_form:0,access_token:"",role:"",showMessage:!1,message:"",loading:!1,whatsapp_availability:null,bornYearValidity:null}},watch:{access_token:function(t){localStorage.access_token=t},role:function(t){localStorage.role=t}},mounted:function(){localStorage.access_token&&(this.access_token=localStorage.access_token),localStorage.role&&(this.role=localStorage.role)},methods:{onSubmit:function(t){if(t.preventDefault(),!this.state_form)return this.bornYearValidity&&this.whatsapp_availability?void(this.state_form=1):void 0;if(this.form.password===this.form.confirm_password){var a={email:this.form.email,name:this.form.name,whatsapp:this.form.whatsapp,address:this.form.address,instagram:this.form.instagram,infaq:this.getInfaq(),password:this.form.password,role:"oka",born_year:this.form.born_year};this.loading=!0,this.register(a)}},register:function(t){var a=this,e="https://backend-pondok.senyumindonesia.org/user/register";B.a.post(e,t).then(function(t){a.access_token=t.data.data.access_token,localStorage.access_token=t.data.data.access_token,a.role=t.data.data.role,localStorage.role=t.data.data.role,a.$router.push("/oka/upload-infaq")}).catch(function(t){a.state_form=0,a.message="Mohon maaf pendaftaran gagal. Hubungi kami untuk bantuan 087848471386 (WA)",a.showMessage=!0,a.loading=!1,a.$emit("input",a.message),a.$router.push("register")})},getInfaq:function(){return"Isi sendiri"==this.selected_infaq?this.form.infaq:this.infaq_dict[this.selected_infaq]},getBornYear:function(){var t=(new Date).getFullYear();return t-this.form.age},backStateForm:function(t){t.preventDefault(),this.state_form=0},is_whatsapp_available:function(){var t=this;if(this.form.whatsapp){var a="https://backend-pondok.senyumindonesia.org/user/check-whatsapp";B.a.post(a,{whatsapp:this.form.whatsapp}).then(function(a){t.whatsapp_availability=a.data.data}).catch(function(t){})}else this.whatsapp_availability=null},validateBornYear:function(){this.bornYearValidity=/^\d+$/.test(this.form.born_year)}},components:{CurrencyFormatter:A}},j=P,D=(e("288e"),Object(l["a"])(j,y,w,!1,null,"3158628d",null)),T=D.exports,R=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-alert"},[e("b-alert",{attrs:{variant:t.colour,show:""}},[e("div",{staticClass:"alert-bound"},[t._v("\n          "+t._s(t.message)+"\n      ")])])],1)},z=[],L={props:["message","colour"]},E=L,N=(e("eade"),Object(l["a"])(E,R,z,!1,null,"2378ec6a",null)),F=N.exports,V=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-col",{staticClass:"orang-baik",attrs:{sm:"4"}},[e("h2",[t._v("\n        Hai #OrangBaik\n    ")]),e("p",{staticClass:"greeting"},[t._v("\n        Selamat bergabung di Pondok Senyum Indonesia, rumah bagi adik-adik istimewa dari pelosok Jawa Barat\n    ")])])},U=[],H={},K=H,J=(e("0dde"),Object(l["a"])(K,V,U,!1,null,"49fb64e7",null)),Y=J.exports,G={data:function(){return{message:""}},mounted:function(){var t=localStorage.role;"oka"==t&&localStorage.access_token&&this.$router.push("/oka/upload-infaq"),"admin"==t&&localStorage.access_token&&this.$router.push("/admin/summary")},components:{NavBar:k,Register:T,Alert:F,OrangBaik:Y}},W=G,Z=(e("86f1"),Object(l["a"])(W,f,p,!1,null,"26a3acd1",null)),Q=Z.exports,X=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-div"},[e("nav-bar"),e("modal",{attrs:{message:t.passed_message,variant:"danger",handleOk:t.afterOkHide}}),e("div",{staticClass:"main-content"},[e("b-row",{staticClass:"main-row justify-content-md-center"},[e("b-col",{attrs:{sm:"4"}},[e("login",{model:{value:t.message,callback:function(a){t.message=a},expression:"message"}})],1)],1)],1)],1)},tt=[],at=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-box"},[e("h5",[t._v("\n        Masuk ke akun Anda\n    ")]),t.show?e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{attrs:{id:"input-group-1"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-1",required:"",placeholder:"Nomor WhatsApp Anda",type:"number"},model:{value:t.form.whatsapp,callback:function(a){t.$set(t.form,"whatsapp",a)},expression:"form.whatsapp"}})],1),e("b-form-group",{attrs:{id:"input-group-2"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-2",required:"",type:"password",placeholder:"Password"},model:{value:t.form.password,callback:function(a){t.$set(t.form,"password",a)},expression:"form.password"}})],1),e("b-button",{staticStyle:{"background-color":"#d71149","border-color":"#d71149","border-radius":"3px"},attrs:{block:"",type:"submit"}},[t.loading?e("b-spinner",{staticStyle:{width:"1rem",height:"1rem"},attrs:{label:"Loading"}}):e("div",[t._v("\n                MASUK\n            ")])],1),e("p",{staticClass:"link-register-desc"},[t._v("\n            Belum punya akun? "),e("a",{staticClass:"link-register",attrs:{href:"/register"}},[t._v("Daftar")])])],1):t._e()],1)},et=[],nt={props:["value"],data:function(){return{form:{whatsapp:"",password:""},show:!0,access_token:"",role:"",loading:!1,showMessage:!1,message:""}},watch:{access_token:function(t){localStorage.access_token=t},role:function(t){localStorage.role=t}},mounted:function(){localStorage.access_token&&(this.access_token=localStorage.access_token),localStorage.role&&(this.role=localStorage.role)},methods:{login:function(t){var a=this,e="https://backend-pondok.senyumindonesia.org/user/login";B.a.post(e,t).then(function(t){a.access_token=t.data.data.access_token,localStorage.access_token=t.data.data.access_token,a.role=t.data.data.role,localStorage.role=t.data.data.role,"admin"==a.role?a.$router.push("/admin/summary"):a.$router.push("/oka/upload-infaq")}).catch(function(t){a.message="Nomor whatsapp dan password tidak ada yang cocok",a.showMessage=!0,a.loading=!1,a.$emit("input",a.message)})},onSubmit:function(t){t.preventDefault();var a={whatsapp:this.form.whatsapp,password:this.form.password};this.loading=!0,this.login(a)}},components:{}},ot=nt,st=(e("6bd9"),Object(l["a"])(ot,at,et,!1,null,"4ec1227c",null)),rt=st.exports,it=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("b-modal",{attrs:{id:"bv-modal-example",centered:"","body-bg-variant":t.variant,"body-text-variant":"light","hide-header":"","ok-only":"","button-size":"sm","footer-class":"p-2"},on:{ok:t.handleOk}},[e("h5",{staticStyle:{"text-align":"center"}},[t._v("\n        "+t._s(t.message)+"\n    ")])])},lt=[],ct={props:["message","variant","handleOk"]},ut=ct,dt=Object(l["a"])(ut,it,lt,!1,null,null,null),mt=dt.exports,ft={data:function(){return{message:"",passed_message:""}},mounted:function(){var t=localStorage.role;"oka"==t&&localStorage.access_token&&this.$router.push("/oka/upload-infaq"),"admin"==t&&localStorage.access_token&&this.$router.push("/admin/summary")},watch:{message:function(t){""!=t&&(this.passed_message=this.message,this.message="",this.$bvModal.show("bv-modal-example"))}},methods:{afterOkHide:function(){this.$bvModal.hide("bv-modal-example")}},components:{NavBar:k,Login:rt,Modal:mt}},pt=ft,bt=(e("c90b"),Object(l["a"])(pt,X,tt,!1,null,"cfdac796",null)),ht=bt.exports,gt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-div"},[e("nav-bar"),e("div",{staticClass:"main-content"},[e("b-row",{staticClass:"main-row justify-content-md-center"},[e("b-col",{attrs:{sm:"4"}},[e("thank-you")],1)],1)],1)],1)},vt=[],_t=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},kt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-box"},[e("h5",[t._v("\n        Pendaftaran Sukses\n    ")]),e("p",[t._v("\n        Terima kasih telah menjadi "),e("strong",[t._v("#OrangTuaAsuh")]),t._v(" untuk adik-adik Pondok Senyum Indonesia. Semoga menjadi amal kebaikan yang terus mengalir bagi kita semua. Untuk sementara, Sistem Informasi saat ini hanya menerima pendaftaran, fitur-fitur lainnya Insya Allah akan segera menyusul. Hubungi kami di 082121908986 (WhatsApp).\n    ")])])}],yt={data:function(){return{}},components:{}},wt=yt,xt=(e("f86b"),Object(l["a"])(wt,_t,kt,!1,null,"47d1e601",null)),St=xt.exports,Ct={data:function(){return{}},mounted:function(){var t=localStorage.role;"oka"==t&&this.$router.push("/oka/upload-infaq"),"admin"==t&&this.$router.push("/admin/summary")},components:{NavBar:k,ThankYou:St}},Mt=Ct,qt=(e("96eb"),Object(l["a"])(Mt,gt,vt,!1,null,"e3617f36",null)),Ot=qt.exports,$t=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-div"},[e("nav-bar"),e("div",{staticClass:"main-content"},[e("b-row",{staticClass:"main-row justify-content-md-center"},[e("biodata-oka-table")],1)],1)],1)},At=[],It=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-box"},[e("div",{staticStyle:{"text-align":"center","font-size":"4vh","font-weight":"bold"}},[t._v("\n        BIODATA OKA\n    ")]),e("br"),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-input-group",[e("b-form-input",{attrs:{placeholder:"Ketik untuk mencari"},model:{value:t.filter,callback:function(a){t.filter=a},expression:"filter"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.filter},on:{click:function(a){t.filter=""}}},[t._v("Bersihkan")])],1)],1)],1)],1),e("br"),e("b-table",{attrs:{"show-empty":"",stacked:"md",items:t.okas,fields:t.oka_fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,busy:t.isBusy},on:{"update:sortBy":function(a){t.sortBy=a},"update:sort-by":function(a){t.sortBy=a},"update:sortDesc":function(a){t.sortDesc=a},"update:sort-desc":function(a){t.sortDesc=a},filtered:t.onFiltered},scopedSlots:t._u([{key:"name",fn:function(a){return[t._v("\n            "+t._s(a.value)+"\n        ")]}},{key:"born_year",fn:function(a){return[t._v("\n            "+t._s(t.this_year-a.value)+"\n        ")]}},{key:"infaq",fn:function(t){return[e("currency-formatter-on-table",{attrs:{value:t.value}})]}},{key:"row-details",fn:function(a){return[e("b-card",[e("ul",t._l(a.item,function(a,n){return e("li",{key:n},[t._v(t._s(n)+": "+t._s(a))])}),0)])]}}])},[e("div",{staticClass:"text-center text-danger my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[e("b-spinner",{staticClass:"align-middle"}),e("strong",[t._v("Loading...")])],1)]),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"5"}},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Per Halaman"}},[e("b-form-select",{staticStyle:{width:"25%"},attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(a){t.perPage=a},expression:"perPage"}})],1)],1)],1),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1)],1),e("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[e("pre",[t._v(t._s(t.infoModal.content))])])],1)},Bt=[],Pt=e("f499"),jt=e.n(Pt),Dt=(e("96cf"),e("3b8d")),Tt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[t._v("Rp"+t._s(t.displayValue))])},Rt=[],zt={props:["value"],data:function(){return{}},computed:{displayValue:{get:function(){if(this.isInputActive)return this.value.toString();var t=(this.value/1).toFixed(2).replace(".",",");return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},set:function(t){var a=M()(t.replace(/[^\d\.]/g,""));isNaN(a)&&(a=0)}}}},Lt=zt,Et=Object(l["a"])(Lt,Tt,Rt,!1,null,"336f3bdc",null),Nt=Et.exports,Ft={data:function(){return{access_token:localStorage.access_token?localStorage.access_token:"",okas:[],oka_fields:[{key:"id",label:"ID OKA",sortable:!0,sortDirection:"asc"},{key:"name",label:"Nama"},{key:"whatsapp",label:"No Whatsapp"},{key:"born_year",label:"Umur"},{key:"infaq",label:"Infaq",sortable:!0,sortDirection:"desc"},{key:"instagram",label:"Instagram"},{key:"email",label:"Email"},{key:"address",label:"Alamat"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,infoModal:{id:"info-modal",title:"",content:""},this_year:(new Date).getFullYear(),isBusy:!0}},computed:{sortOptions:function(){return this.oka_fields.filter(function(t){return t.sortable}).map(function(t){return{text:t.label,value:t.key}})}},mounted:function(){this.load_table(),this.totalRows=this.okas.length},methods:{load_table:function(){var t=Object(Dt["a"])(regeneratorRuntime.mark(function t(){var a,e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=localStorage.access_token,t.next=3,fetch("https://backend-pondok.senyumindonesia.org/user/all",{method:"GET",headers:{Authorization:a,"Content-Type":"application/json"}});case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,this.okas=n.data,this.totalRows=this.okas.length,this.isBusy=!1;case 10:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),info:function(t,a,e){this.infoModal.title="Row index: ".concat(a),this.infoModal.content=jt()(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,e)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}},components:{CurrencyFormatterOnTable:Nt}},Vt=Ft,Ut=(e("0a35"),Object(l["a"])(Vt,It,Bt,!1,null,"090dd1ad",null)),Ht=Ut.exports,Kt={data:function(){return{}},mounted:function(){var t=localStorage.role;localStorage.access_token||this.$router.push("/"),"oka"==t&&this.$router.push("/oka/upload-infaq")},components:{NavBar:k,BiodataOkaTable:Ht}},Jt=Kt,Yt=(e("c7b0"),Object(l["a"])(Jt,$t,At,!1,null,"02ea3a07",null)),Gt=Yt.exports,Wt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-div"},[e("nav-bar"),e("div",{staticClass:"main-content"},[e("b-row",{staticClass:"main-row justify-content-md-center"},[e("status-infaq-table")],1)],1)],1)},Zt=[],Qt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-box"},[e("div",{staticStyle:{"text-align":"center","font-size":"4vh","font-weight":"bold"}},[t._v("\n        Status Infaq\n    ")]),e("br"),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-col",{attrs:{md:"8"}},[e("b-input-group",[e("b-form-input",{attrs:{placeholder:"Filter nama"},model:{value:t.filter_name,callback:function(a){t.filter_name=a},expression:"filter_name"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.filter_name},on:{click:function(a){t.filter_name=""}}},[t._v("Bersihkan")])],1)],1)],1)],1),e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-col",{attrs:{md:"8"}},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"4",label:"Filter status"}},[e("b-form-select",{attrs:{options:t.status_options},model:{value:t.filter_status,callback:function(a){t.filter_status=a},expression:"filter_status"}})],1)],1)],1)],1),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-col",{attrs:{md:"8"}},[e("b-input-group",[e("b-form-input",{attrs:{placeholder:"Filter waktu"},model:{value:t.filter_time,callback:function(a){t.filter_time=a},expression:"filter_time"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.filter_time},on:{click:function(a){t.filter_time=""}}},[t._v("Bersihkan")])],1)],1)],1)],1)],1),e("br"),e("b-table",{attrs:{"show-empty":"",stacked:"md",items:t.multi_monthly_infaq,fields:t.monthly_infaq_fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,busy:t.isBusy},on:{"update:sortBy":function(a){t.sortBy=a},"update:sort-by":function(a){t.sortBy=a},"update:sortDesc":function(a){t.sortDesc=a},"update:sort-desc":function(a){t.sortDesc=a}},scopedSlots:t._u([{key:"user",fn:function(a){return[e("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(e){return t.info(a.value,a.value.name,e.target)}}},[t._v("\n                "+t._s(a.value.name)+"\n            ")])]}},{key:"paid_off_status",fn:function(a){return[t._v("\n            "+t._s("True"==a.value?"Lunas":"Belum Lunas")+"\n        ")]}},{key:"user.infaq",fn:function(t){return[e("currency-formatter-on-table",{attrs:{value:t.value}})]}},{key:"temp_infaq",fn:function(t){return[e("currency-formatter-on-table",{attrs:{value:t.value}})]}},{key:"row-details",fn:function(a){return[e("b-card",[e("ul",t._l(a.item,function(a,n){return e("li",{key:n},[t._v(t._s(n)+": "+t._s(a))])}),0)])]}}])},[e("div",{staticClass:"text-center text-danger my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[e("b-spinner",{staticClass:"align-middle"}),e("strong",[t._v("Loading...")])],1)]),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"5"}},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Per Halaman"}},[e("b-form-select",{staticStyle:{width:"25%"},attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(a){t.perPage=a},expression:"perPage"}})],1)],1)],1),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1)],1),e("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                ID OKA\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.id)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                Nama\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.name)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                No. Whatsapp\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.whatsapp)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                Umur\n            ")]),e("b-col",[t._v("\n                "+t._s(t.this_year-t.infoModal.content.born_year)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                Email\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.email)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                Instagram\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.instagram)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                Alamat\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.address)+"\n            ")])],1)],1)],1)},Xt=[],ta={data:function(){return{access_token:localStorage.access_token?localStorage.access_token:"",monthly_infaq:[],monthly_infaq_fields:[{key:"month_year",label:"Periode",sortable:!0,sortDirection:"desc"},{key:"user",label:"OKA"},{key:"user.infaq",label:"Infaq Rutin",sortable:!0,sortDirection:"asc"},{key:"temp_infaq",label:"Infaq Bulan Ini",sortable:!0,sortDirection:"desc"},{key:"paid_off_status",label:"Status"}],filtered_monthly_infaq:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,infoModal:{id:"info-modal",title:"",content:""},filter_time:"",filter_status:"",filter_name:"",status_options:[{value:"",text:"-"},{value:"True",text:"Lunas"},{value:"False",text:"Belum Lunas"}],this_year:(new Date).getFullYear(),isBusy:!0}},computed:{sortOptions:function(){return this.monthly_infaq_fields.filter(function(t){return t.sortable}).map(function(t){return{text:t.label,value:t.key}})},multi_monthly_infaq:function(){var t=this,a=this.monthly_infaq.filter(function(a){var e=!0;return""!=t.filter_time&&(e=a.month_year.toLowerCase().indexOf(t.filter_time.toLowerCase())>-1),""!=t.filter_status&&(e=e&&a.paid_off_status.toLowerCase().indexOf(t.filter_status.toLowerCase())>-1),""!=t.filter_name&&(e=e&&a.user.name.toLowerCase().indexOf(t.filter_name.toLowerCase())>-1),e});return this.totalRows=a.length,this.currentPage=1,a}},mounted:function(){this.load_table(),this.totalRows=this.monthly_infaq.length},methods:{load_table:function(){var t=Object(Dt["a"])(regeneratorRuntime.mark(function t(){var a,e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=localStorage.access_token,t.next=3,fetch("https://backend-pondok.senyumindonesia.org/monthly-infaq/all",{method:"GET",headers:{Authorization:a,"Content-Type":"application/json"}});case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,this.monthly_infaq=n.data,this.totalRows=this.monthly_infaq.length,this.isBusy=!1;case 10:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),info:function(t,a,e){this.infoModal.title="Biodata ".concat(a),this.infoModal.content=t,this.$root.$emit("bv::show::modal",this.infoModal.id,e)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},multiFilter:function(t){var a="";return""!=this.filter_time&&(a=t.month_year.toLowerCase().indexOf(this.filter_time.toLowerCase())>-1),""!=this.filter_status&&(a=a&&t.paid_off_status.toLowerCase().indexOf(this.filter_status.toLowerCase())>-1),a}},components:{CurrencyFormatterOnTable:Nt}},aa=ta,ea=(e("9611"),Object(l["a"])(aa,Qt,Xt,!1,null,"eb8954f8",null)),na=ea.exports,oa={data:function(){return{}},mounted:function(){var t=localStorage.role;localStorage.access_token||this.$router.push("/"),"oka"==t&&this.$router.push("/oka/upload-infaq")},components:{NavBar:k,StatusInfaqTable:na}},sa=oa,ra=(e("36de"),Object(l["a"])(sa,Wt,Zt,!1,null,"24a3aa92",null)),ia=ra.exports,la=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-div"},[e("nav-bar"),e("modal",{attrs:{message:t.passed_message,variant:t.variant,handleOk:"success"==t.variant||t.not_logged_in?t.afterOkReload:t.afterOkHide}}),e("div",{staticClass:"main-content"},[e("b-row",{staticClass:"main-row justify-content-md-center"},[e("b-col",{attrs:{sm:"4"}},[e("upload-infaq",{model:{value:t.message,callback:function(a){t.message=a},expression:"message"}})],1)],1)],1)],1)},ca=[],ua=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-box"},[e("h5",[t._v("\n        Upload Infaq Anda\n    ")]),e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{attrs:{id:"input-group-2","label-cols":"12",label:"Nominal infaq","label-for":"input-2"}},[e("currency-formatter",{attrs:{id:"input-2",placeholder:"Nominal infaq"},model:{value:t.form.nominal,callback:function(a){t.$set(t.form,"nominal",a)},expression:"form.nominal"}})],1),e("b-form-group",{attrs:{id:"input-group-3","label-cols":"12",label:"Periode","label-for":"bulan"}},[e("b-row",[e("b-col",{attrs:{cols:"7"}},[e("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{options:t.month_option,required:"",id:"bulan"},model:{value:t.form.month,callback:function(a){t.$set(t.form,"month",a)},expression:"form.month"}})],1),e("b-col",{staticStyle:{"padding-left":"0"},attrs:{cols:"5"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{type:"number",id:"year",required:""},model:{value:t.form.year,callback:function(a){t.$set(t.form,"year",a)},expression:"form.year"}})],1)],1)],1),e("b-form-group",{staticClass:"uploader",attrs:{id:"input-group-4"}},[e("image-uploader",{attrs:{preview:!0,className:["fileinput",{"fileinput--loaded":t.hasImage}],debug:0,maxWidth:1024,outputFormat:"blob"},on:{input:t.setImage}},[e("label",{attrs:{slot:"upload-label",for:"fileInput"},slot:"upload-label"},[e("div",[e("figure",{staticStyle:{margin:"0"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[e("path",{staticClass:"path1",attrs:{d:"M9.5 19c0 3.59 2.91 6.5 6.5 6.5s6.5-2.91 6.5-6.5-2.91-6.5-6.5-6.5-6.5 2.91-6.5 6.5zM30 8h-7c-0.5-2-1-4-3-4h-8c-2 0-2.5 2-3 4h-7c-1.1 0-2 0.9-2 2v18c0 1.1 0.9 2 2 2h28c1.1 0 2-0.9 2-2v-18c0-1.1-0.9-2-2-2zM16 27.875c-4.902 0-8.875-3.973-8.875-8.875s3.973-8.875 8.875-8.875c4.902 0 8.875 3.973 8.875 8.875s-3.973 8.875-8.875 8.875zM30 14h-4v-2h4v2z"}})])]),e("span",{staticClass:"upload-caption",staticStyle:{"font-size":"12px"}},[t._v(t._s(t.hasImage?"Ganti bukti transfer":"Upload bukti transfer"))])])])])],1),e("b-button",{staticStyle:{"background-color":"#d71149","border-color":"#d71149","border-radius":"3px"},attrs:{block:"",type:"submit"}},[t.loading?e("b-spinner",{staticStyle:{width:"1rem",height:"1rem"},attrs:{label:"Loading"}}):e("div",[t._v("\n                KIRIM\n            ")])],1)],1)],1)},da=[],ma={props:["value"],data:function(){return{form:{nominal:"",month:(new Date).getMonth()+1,year:(new Date).getFullYear()},hasImage:!1,image:null,showMessage:!1,message:"",loading:!1,month_option:[{value:1,text:"Januari"},{value:2,text:"Februari"},{value:3,text:"Maret"},{value:4,text:"April"},{value:5,text:"Mei"},{value:6,text:"Juni"},{value:7,text:"Juli"},{value:8,text:"Agustus"},{value:9,text:"September"},{value:10,text:"Oktober"},{value:11,text:"November"},{value:12,text:"Desember"}]}},methods:{onSubmit:function(t){var a=this;if(t.preventDefault(),this.form.nominal){if(this.image){this.loading=!0;var e=localStorage.access_token,n=new FormData;n.append("image",this.image),n.append("nominal",this.form.nominal),n.append("month_year",this.form.year+"-"+this.form.month);var o="https://backend-pondok.senyumindonesia.org/transaction/create";B.a.post(o,n,{headers:{Authorization:e,"Content-Type":"multipart/form-data"}}).then(function(t){a.message="Infaq berhasil disubmit. Tim kami akan segera menghubungi Anda jika infaq Anda sudah diverifikasi :)",a.showMessage=!0,a.loading=!1,a.$emit("input",a.message)}).catch(function(t){"403"==t.response["status"]?(localStorage.access_token="",localStorage.role="",a.message="Upload infaq gagal. Sesi login telah berakhir"):a.message="Upload infaq gagal. Coba beberapa saat lagi. Hubungi teknis (087848471386)",a.showMessage=!0,a.loading=!1,a.$emit("input",a.message)})}}else document.getElementById("input-6a").focus()},setImage:function(t){this.hasImage=!0,this.image=t}},components:{CurrencyFormatter:A}},fa=ma,pa=(e("a8d2"),Object(l["a"])(fa,ua,da,!1,null,null,null)),ba=pa.exports,ha={data:function(){return{message:"",variant:"",passed_message:"",not_logged_in:!1}},mounted:function(){var t=localStorage.role;localStorage.access_token||this.$router.push("/"),"admin"==t&&this.$router.push("/admin/summary")},watch:{message:function(t){if("Infaq berhasil disubmit. Tim kami akan segera menghubungi Anda jika infaq Anda sudah diverifikasi :)"==t)this.variant="success";else{if(""==t)return;this.variant="danger","Upload infaq gagal. Sesi login telah berakhir"==t&&(this.not_logged_in=!0)}this.passed_message=this.message,this.message="",this.$bvModal.show("bv-modal-example")}},methods:{afterOkReload:function(){window.location.reload()},afterOkHide:function(){this.$bvModal.hide("bv-modal-example")}},components:{NavBar:k,UploadInfaq:ba,Modal:mt}},ga=ha,va=(e("4bac"),Object(l["a"])(ga,la,ca,!1,null,"77948a66",null)),_a=va.exports,ka=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-div"},[e("nav-bar"),e("modal",{attrs:{message:t.passed_message,variant:t.variant,handleOk:"success"==t.variant?t.afterOkReload:t.afterOkHide}}),e("div",{staticClass:"main-content"},[e("b-row",{staticClass:"main-row justify-content-md-center"},[e("b-col",{attrs:{sm:"4"}},[e("admin-upload-infaq",{model:{value:t.message,callback:function(a){t.message=a},expression:"message"}})],1)],1)],1)],1)},ya=[],wa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-box"},[e("h5",[t._v("\n        Upload Infaq OKA\n    ")]),e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{attrs:{id:"input-group-1","label-cols":"12",label:"Nomor Whatsapp OKA","label-for":"input-1"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-1",required:"",placeholder:"Nomor Whatsapp OKA",type:"number"},model:{value:t.form.whatsapp,callback:function(a){t.$set(t.form,"whatsapp",a)},expression:"form.whatsapp"}})],1),e("b-form-group",{attrs:{id:"input-group-2","label-cols":"12",label:"Nominal infaq","label-for":"input-2"}},[e("currency-formatter",{attrs:{id:"input-2",placeholder:"Nominal infaq"},model:{value:t.form.nominal,callback:function(a){t.$set(t.form,"nominal",a)},expression:"form.nominal"}})],1),e("b-form-group",{attrs:{id:"input-group-3","label-cols":"12",label:"Periode","label-for":"bulan"}},[e("b-row",[e("b-col",{attrs:{cols:"7"}},[e("b-form-select",{staticClass:"mb-2 mr-sm-2 mb-sm-0",staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{options:t.month_option,required:"",id:"bulan"},model:{value:t.form.month,callback:function(a){t.$set(t.form,"month",a)},expression:"form.month"}})],1),e("b-col",{staticStyle:{"padding-left":"0"},attrs:{cols:"5"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{type:"number",id:"year",required:""},model:{value:t.form.year,callback:function(a){t.$set(t.form,"year",a)},expression:"form.year"}})],1)],1)],1),e("b-form-group",{staticClass:"uploader",attrs:{id:"input-group-4"}},[e("image-uploader",{attrs:{preview:!0,className:["fileinput",{"fileinput--loaded":t.hasImage}],debug:0,maxWidth:1024,outputFormat:"blob"},on:{input:t.setImage}},[e("label",{attrs:{slot:"upload-label",for:"fileInput"},slot:"upload-label"},[e("div",[e("figure",{staticStyle:{margin:"0"}},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"}},[e("path",{staticClass:"path1",attrs:{d:"M9.5 19c0 3.59 2.91 6.5 6.5 6.5s6.5-2.91 6.5-6.5-2.91-6.5-6.5-6.5-6.5 2.91-6.5 6.5zM30 8h-7c-0.5-2-1-4-3-4h-8c-2 0-2.5 2-3 4h-7c-1.1 0-2 0.9-2 2v18c0 1.1 0.9 2 2 2h28c1.1 0 2-0.9 2-2v-18c0-1.1-0.9-2-2-2zM16 27.875c-4.902 0-8.875-3.973-8.875-8.875s3.973-8.875 8.875-8.875c4.902 0 8.875 3.973 8.875 8.875s-3.973 8.875-8.875 8.875zM30 14h-4v-2h4v2z"}})])]),e("span",{staticClass:"upload-caption",staticStyle:{"font-size":"12px"}},[t._v(t._s(t.hasImage?"Ganti bukti transfer":"Upload bukti transfer"))])])])])],1),e("b-button",{staticStyle:{"background-color":"#d71149","border-color":"#d71149","border-radius":"3px"},attrs:{block:"",type:"submit"}},[t.loading?e("b-spinner",{staticStyle:{width:"1rem",height:"1rem"},attrs:{label:"Loading"}}):e("div",[t._v("\n                KIRIM\n            ")])],1)],1)],1)},xa=[],Sa={props:["value"],data:function(){return{form:{whatsapp:"",nominal:"",month:(new Date).getMonth()+1,year:(new Date).getFullYear()},hasImage:!1,image:null,showMessage:!1,message:"",loading:!1,month_option:[{value:1,text:"Januari"},{value:2,text:"Februari"},{value:3,text:"Maret"},{value:4,text:"April"},{value:5,text:"Mei"},{value:6,text:"Juni"},{value:7,text:"Juli"},{value:8,text:"Agustus"},{value:9,text:"September"},{value:10,text:"Oktober"},{value:11,text:"November"},{value:12,text:"Desember"}]}},methods:{onSubmit:function(t){var a=this;if(t.preventDefault(),this.form.nominal){if(this.image){this.loading=!0;var e=localStorage.access_token,n=new FormData;n.append("image",this.image),n.append("whatsapp",this.form.whatsapp),n.append("nominal",this.form.nominal),n.append("month_year",this.form.year+"-"+this.form.month);var o="https://backend-pondok.senyumindonesia.org/transaction/create";B.a.post(o,n,{headers:{Authorization:e,"Content-Type":"multipart/form-data"}}).then(function(t){a.message="Infaq berhasil disubmit",a.showMessage=!0,a.loading=!1,a.$emit("input",a.message)}).catch(function(t){a.message="Upload infaq gagal. Coba beberapa saat lagi. Hubungi teknis (087848471386)",a.showMessage=!0,a.loading=!1,a.$emit("input",a.message)})}}else document.getElementById("input-6a").focus()},setImage:function(t){this.hasImage=!0,this.image=t}},components:{CurrencyFormatter:A}},Ca=Sa,Ma=(e("ea8b"),Object(l["a"])(Ca,wa,xa,!1,null,null,null)),qa=Ma.exports,Oa={data:function(){return{message:"",variant:"",passed_message:""}},mounted:function(){var t=localStorage.role;localStorage.access_token||this.$router.push("/"),"oka"==t&&this.$router.push("/oka/upload-infaq")},watch:{message:function(t){if("Infaq berhasil disubmit"==t)this.variant="success";else{if(""==t)return;this.variant="danger"}this.passed_message=this.message,this.message="",this.$bvModal.show("bv-modal-example")}},methods:{afterOkReload:function(){window.location.reload()},afterOkHide:function(){this.$bvModal.hide("bv-modal-example")}},components:{NavBar:k,AdminUploadInfaq:qa,Modal:mt}},$a=Oa,Aa=(e("abac"),Object(l["a"])($a,ka,ya,!1,null,"18c7097e",null)),Ia=Aa.exports,Ba=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-div"},[e("nav-bar"),e("div",{staticClass:"main-content"},[e("b-row",{staticClass:"main-row justify-content-md-center"},[e("verifikasi-infaq-table")],1)],1)],1)},Pa=[],ja=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-box"},[e("div",{staticStyle:{"text-align":"center","font-size":"4vh","font-weight":"bold"}},[t._v("\n        Verifikasi Infaq\n    ")]),e("br"),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-col",{attrs:{md:"8"}},[e("b-input-group",[e("b-form-input",{attrs:{placeholder:"Filter nama"},model:{value:t.filter_name,callback:function(a){t.filter_name=a},expression:"filter_name"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.filter_name},on:{click:function(a){t.filter_name=""}}},[t._v("Bersihkan")])],1)],1)],1)],1),e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-col",{attrs:{md:"6"}}),e("b-col",{attrs:{md:"8"}},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"4"}},[e("b-form-select",{attrs:{options:t.status_options},model:{value:t.filter_status,callback:function(a){t.filter_status=a},expression:"filter_status"}})],1)],1)],1)],1),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-col",{attrs:{md:"8"}},[e("b-input-group",[e("b-form-input",{attrs:{placeholder:"Filter waktu"},model:{value:t.filter_time,callback:function(a){t.filter_time=a},expression:"filter_time"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.filter_time},on:{click:function(a){t.filter_time=""}}},[t._v("Bersihkan")])],1)],1)],1)],1)],1),e("br"),e("b-table",{attrs:{"show-empty":"",stacked:"md",items:t.multi_transaction,fields:t.transaction_fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,busy:t.isBusy},on:{"update:sortBy":function(a){t.sortBy=a},"update:sort-by":function(a){t.sortBy=a},"update:sortDesc":function(a){t.sortDesc=a},"update:sort-desc":function(a){t.sortDesc=a}},scopedSlots:t._u([{key:"created_at",fn:function(a){return[t._v("\n            "+t._s(t.timeConvert(a.value))+"\n        ")]}},{key:"user",fn:function(a){return[e("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(e){return t.info(a.value,a.value.name,e.target)}}},[t._v("\n                "+t._s(a.value.name)+"\n            ")])]}},{key:"verified",fn:function(a){return[e("b-button",{attrs:{variant:t.getColor(a.value)},on:{click:function(e){return t.openActionModal(a,e.target)}}},[t._v("\n            "+t._s(t.getStatusVerifikasi(a.value))+" \n            ")])]}},{key:"nominal",fn:function(t){return[e("currency-formatter-on-table",{attrs:{value:t.value}})]}},{key:"row-details",fn:function(a){return[e("b-card",[e("ul",t._l(a.item,function(a,n){return e("li",{key:n},[t._v(t._s(n)+": "+t._s(a))])}),0)])]}}])},[e("div",{staticClass:"text-center text-danger my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[e("b-spinner",{staticClass:"align-middle"}),e("strong",[t._v("Loading...")])],1)]),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"5"}},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Per Halaman"}},[e("b-form-select",{staticStyle:{width:"25%"},attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(a){t.perPage=a},expression:"perPage"}})],1)],1)],1),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1)],1),e("b-modal",{attrs:{id:t.actionModal.id,title:t.actionModal.title},scopedSlots:t._u([{key:"modal-footer",fn:function(a){a.ok,a.cancel;return[e("b-button",{attrs:{size:"sm",variant:"success"},on:{click:t.accept_action}},[t._v("\n                Terima\n            ")]),e("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:t.reject_action}},[t._v("\n                Tolak\n            ")]),e("b-button",{attrs:{size:"sm",variant:"success"},on:{click:t.resetActionModal}},[t._v("\n                Tutup\n            ")])]}}])},[e("pre",[t._v("            Nama OKA : "+t._s(t.actionModal.user.name)+"\n            Nominal : "),e("currency-formatter-on-table",{attrs:{value:t.actionModal.nominal}}),t._v("\n            Status : "),e("span",{class:t.getClassStatus(t.actionModal.status)},[t._v(t._s(t.getStatusVerifikasi(t.actionModal.status)))]),t._v("\n        ")],1),e("img",{attrs:{src:"https://storage.googleapis.com/img-infaq-tf/"+t.actionModal.img,id:"img-konfirmasi"}})]),e("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                ID OKA\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.id)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                Nama\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.name)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                No. Whatsapp\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.whatsapp)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                Umur\n            ")]),e("b-col",[t._v("\n                "+t._s(t.this_year-t.infoModal.content.born_year)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                Email\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.email)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                Instagram\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.instagram)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{cols:"4"}},[t._v("\n                Alamat\n            ")]),e("b-col",[t._v("\n                "+t._s(t.infoModal.content.address)+"\n            ")])],1)],1)],1)},Da=[],Ta={data:function(){return{access_token:localStorage.access_token?localStorage.access_token:"",transaction:[],transaction_fields:[{key:"created_at",label:"Tanggal",sortable:!0,sortDirection:"desc"},{key:"user",label:"OKA"},{key:"monthly_infaq.month_year",label:"Periode",sortable:!0,sortDirection:"desc"},{key:"nominal",label:"Nominal",sortable:!0,sortDirection:"asc"},{key:"verified",label:"Status"}],filtered_transaction:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,infoModal:{id:"info-modal",title:"",content:""},filter_time:"",filter_status:"",filter_name:"",status_options:[{value:"",text:"Semua Status"},{value:"true",text:"Sudah Terverifikasi"},{value:"false",text:"Verifikasi Gagal"},{value:"null",text:"Belum Terverifikasi"}],this_year:(new Date).getFullYear(),actionModal:{id:"actionModal",img:"",title:"Verifikasi Infaq",user:"",status:"",nominal:""},isBusy:!0}},computed:{sortOptions:function(){return this.transaction_fields.filter(function(t){return t.sortable}).map(function(t){return{text:t.label,value:t.key}})},multi_transaction:function(){var t=this,a=this.transaction.filter(function(a){var e,n=!0;(""!=t.filter_time&&(n=a.month_year.toLowerCase().indexOf(t.filter_time.toLowerCase())>-1),""!=t.filter_status)&&(e=null==a.verified?"null":a.verified.toString(),n=n&&e.toLowerCase().indexOf(t.filter_status.toLowerCase())>-1);return""!=t.filter_name&&(n=n&&a.user.name.toLowerCase().indexOf(t.filter_name.toLowerCase())>-1),n});return this.totalRows=a.length,this.currentPage=1,a}},mounted:function(){this.load_table(),this.totalRows=this.transaction.length},methods:{load_table:function(){var t=Object(Dt["a"])(regeneratorRuntime.mark(function t(){var a,e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=localStorage.access_token,t.next=3,fetch("https://backend-pondok.senyumindonesia.org/transaction/all",{method:"GET",headers:{Authorization:a,"Content-Type":"application/json"}});case 3:return e=t.sent,t.next=6,e.json();case 6:n=t.sent,this.transaction=n.data,this.totalRows=this.transaction.length,this.isBusy=!1;case 10:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),openActionModal:function(t,a){this.actionModal.img=t.item.filename,this.actionModal.user=t.item.user,this.actionModal.status=t.value,this.actionModal.nominal=t.item.nominal,this.actionModal.idTransaction=t.item.id,this.$root.$emit("bv::show::modal",this.actionModal.id,a)},info:function(t,a,e){this.infoModal.title="Biodata ".concat(a),this.infoModal.content=t,this.$root.$emit("bv::show::modal",this.infoModal.id,e)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},multiFilter:function(t){var a="";return""!=this.filter_time&&(a=t.month_year.toLowerCase().indexOf(this.filter_time.toLowerCase())>-1),""!=this.filter_status&&(a=a&&t.paid_off_status.toLowerCase().indexOf(this.filter_status.toLowerCase())>-1),a},getColor:function(t){return 1==t?"success":!1===t?"danger":"secondary"},getClassStatus:function(t){return 1==t?"verified":!1===t?"unverified":"nullverified"},resetActionModal:function(){this.actionModal.img="",this.actionModal.user="",this.actionModal.status="",this.actionModal.nominal="",this.actionModal.idTransaction="",this.$root.$emit("bv::hide::modal",this.actionModal.id)},reject_action:function(){var t=this,a=localStorage.access_token,e={Authorization:a,"Content-Type":"application/json"},n="https://backend-pondok.senyumindonesia.org/transaction/update/verified",o={id:this.actionModal.idTransaction,verified:!1};B.a.post(n,o,{headers:e}).then(function(a){t.$router.go()}).catch(function(t){}),this.resetActionModal()},accept_action:function(){var t=this,a=localStorage.access_token,e={Authorization:a,"Content-Type":"application/json"},n="https://backend-pondok.senyumindonesia.org/transaction/update/verified",o={id:this.actionModal.idTransaction,verified:!0};B.a.post(n,o,{headers:e}).then(function(a){t.$router.go()}).catch(function(t){}),this.resetActionModal()},getStatusVerifikasi:function(t){return 1==t?"Sudah Terverifikasi":!1===t?"Verifikasi Gagal":"Belum Terverifikasi"},timeConvert:function(t){var a=t.toLocaleString("en-US",{timeZone:"Asia/Jakarta"});return a=new Date(a),a.toLocaleString()}},components:{CurrencyFormatterOnTable:Nt}},Ra=Ta,za=(e("dd5f"),Object(l["a"])(Ra,ja,Da,!1,null,"14ab4ee9",null)),La=za.exports,Ea={data:function(){return{}},mounted:function(){var t=localStorage.role;localStorage.access_token||this.$router.push("/"),"oka"==t&&this.$router.push("/oka/upload-infaq")},components:{NavBar:k,VerifikasiInfaqTable:La}},Na=Ea,Fa=(e("fc08"),Object(l["a"])(Na,Ba,Pa,!1,null,"3b86f117",null)),Va=Fa.exports,Ua=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-div"},[e("nav-bar"),e("div",{staticClass:"main-content"},[e("b-row",{staticClass:"main-row justify-content-md-center"},[e("summary-table")],1)],1)],1)},Ha=[],Ka=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-box"},[e("div",{staticStyle:{"text-align":"center","font-size":"4vh","font-weight":"bold"}},[t._v("\n        Rangkuman\n    ")]),e("br"),t.isBusySummary?t._e():e("b-col",[e("b-row",[e("b-col",{attrs:{md:"4"}},[t._v("\n                Jumlah OrangTuaAsuh\n            ")]),e("b-col",{attrs:{md:"4"}},[t._v("\n                : "+t._s(t.totalOka)+"\n            ")])],1),e("b-row",[e("b-col",{attrs:{md:"4"}},[t._v("\n                Jumlah Infaq/bulan yang Diharapkan\n            ")]),e("b-col",{attrs:{md:"4"}},[t._v("\n                : "),e("currency-formatter-on-table",{attrs:{value:t.totalInfaqPerMonth}})],1)],1),e("b-row",[e("b-col",{attrs:{md:"4"}},[t._v("\n                Jumlah Infaq Terkumpul Sejak Awal\n            ")]),e("b-col",{attrs:{md:"4"}},[t._v("\n                : "),e("currency-formatter-on-table",{attrs:{value:t.totalInfaqAllTime}})],1)],1)],1),t.isBusySummary?e("b-row",{staticStyle:{"text-align":"center","vertical-align":"center"}},[e("div",{staticClass:"text-center text-danger my-2",staticStyle:{margin:"auto"}},[e("b-spinner",{staticClass:"align-middle"}),e("strong",[t._v("Loading...")])],1)]):t._e(),e("hr"),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-col",{attrs:{md:"8"}},[e("b-input-group",[e("b-form-input",{attrs:{placeholder:"Filter waktu"},model:{value:t.filter_time,callback:function(a){t.filter_time=a},expression:"filter_time"}}),e("b-input-group-append",[e("b-button",{attrs:{disabled:!t.filter_time},on:{click:function(a){t.filter_time=""}}},[t._v("Bersihkan")])],1)],1)],1)],1)],1),e("br"),e("b-table",{attrs:{"show-empty":"",stacked:"md",items:t.multi_summary,fields:t.summary_fields,"current-page":t.currentPage,"per-page":t.perPage,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,busy:t.isBusy},on:{"update:sortBy":function(a){t.sortBy=a},"update:sort-by":function(a){t.sortBy=a},"update:sortDesc":function(a){t.sortDesc=a},"update:sort-desc":function(a){t.sortDesc=a}},scopedSlots:t._u([{key:"infaq",fn:function(t){return[e("currency-formatter-on-table",{attrs:{value:t.value}})]}},{key:"row-details",fn:function(a){return[e("b-card",[e("ul",t._l(a.item,function(a,n){return e("li",{key:n},[t._v(t._s(n)+": "+t._s(a))])}),0)])]}}])},[e("div",{staticClass:"text-center text-danger my-2",attrs:{slot:"table-busy"},slot:"table-busy"},[e("b-spinner",{staticClass:"align-middle"}),e("strong",[t._v("Loading...")])],1)]),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"5"}},[e("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-sm":"3",label:"Per Halaman"}},[e("b-form-select",{staticStyle:{width:"25%"},attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(a){t.perPage=a},expression:"perPage"}})],1)],1)],1),e("b-row",[e("b-col",{staticClass:"my-1",attrs:{md:"6"}},[e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],1)],1)],1)},Ja=[],Ya={data:function(){return{access_token:localStorage.access_token?localStorage.access_token:"",summary:[],summary_fields:[{key:"month_year",label:"Periode",sortable:!0,sortDirection:"desc"},{key:"infaq",label:"Total Infaq",sortable:!0,sortDirection:"asc"}],filtered_summary:[],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,filter_time:"",status_options:[{value:"",text:"-"},{value:"True",text:"Lunas"},{value:"False",text:"Belum Lunas"}],isBusy:!0,isBusySummary:!0,totalOka:"",totalInfaqPerMonth:"",totalInfaqAllTime:""}},computed:{sortOptions:function(){return this.summary_fields.filter(function(t){return t.sortable}).map(function(t){return{text:t.label,value:t.key}})},multi_summary:function(){var t=this,a=this.summary.filter(function(a){var e=!0;return""!=t.filter_time&&(e=a.month_year.toLowerCase().indexOf(t.filter_time.toLowerCase())>-1),e});return this.totalRows=a.length,this.currentPage=1,a}},mounted:function(){this.load_table(),this.load_summary(),this.totalRows=this.summary.length},methods:{load_table:function(){var t=Object(Dt["a"])(regeneratorRuntime.mark(function t(){var a,e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=localStorage.access_token,t.next=3,fetch("https://backend-pondok.senyumindonesia.org/monthly-infaq/summary",{method:"GET",headers:{Authorization:a,"Content-Type":"application/json"}});case 3:return e=t.sent,"403"==e.status&&(localStorage.access_token="",localStorage.role="",this.$router.push("/")),t.next=7,e.json();case 7:n=t.sent,this.summary=n.data,this.totalRows=this.summary.length,this.isBusy=!1;case 11:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}(),load_summary:function(){var t=Object(Dt["a"])(regeneratorRuntime.mark(function t(){var a,e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=localStorage.access_token,t.next=3,fetch("https://backend-pondok.senyumindonesia.org/user/summary",{method:"GET",headers:{Authorization:a,"Content-Type":"application/json"}});case 3:return e=t.sent,"403"==e.status&&(localStorage.access_token="",localStorage.role="",this.$router.push("/")),t.next=7,e.json();case 7:n=t.sent,this.totalOka=n.data["total_oka"],this.totalInfaqPerMonth=n.data["total_infaq_per_month"],this.totalInfaqAllTime=n.data["total_infaq_all_time"],this.isBusySummary=!1;case 12:case"end":return t.stop()}},t,this)}));function a(){return t.apply(this,arguments)}return a}()},components:{CurrencyFormatterOnTable:Nt}},Ga=Ya,Wa=(e("43d9"),Object(l["a"])(Ga,Ka,Ja,!1,null,"471b73c9",null)),Za=Wa.exports,Qa={data:function(){return{}},mounted:function(){var t=localStorage.role;localStorage.access_token||this.$router.push("/"),"oka"==t&&this.$router.push("/oka/upload-infaq")},components:{NavBar:k,SummaryTable:Za}},Xa=Qa,te=(e("2d85"),Object(l["a"])(Xa,Ua,Ha,!1,null,"2813548b",null)),ae=te.exports,ee=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-div"},[e("nav-bar"),e("modal",{attrs:{message:t.passed_message,variant:t.variant,handleOk:"success"==t.variant||t.not_logged_in?t.afterOkReload:t.afterOkHide}}),e("div",{staticClass:"main-content"},[e("b-row",{staticClass:"main-row justify-content-md-center"},[e("b-col",{attrs:{sm:"4"}},[e("change-password",{model:{value:t.message,callback:function(a){t.message=a},expression:"message"}})],1)],1)],1)],1)},ne=[],oe=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"form-box"},[e("h5",[t._v("\n        Ganti password Anda\n    ")]),t.show?e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{attrs:{id:"input-group-7"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-7",required:"",type:"password",placeholder:"Password"},model:{value:t.form.password,callback:function(a){t.$set(t.form,"password",a)},expression:"form.password"}})],1),e("b-form-group",{attrs:{id:"input-group-8"}},[e("b-form-input",{staticStyle:{"border-radius":"3px","font-size":"0.9rem"},attrs:{id:"input-8",required:"",type:"password",placeholder:"Confirm password"},model:{value:t.form.confirm_password,callback:function(a){t.$set(t.form,"confirm_password",a)},expression:"form.confirm_password"}})],1),e("b-button",{staticStyle:{"background-color":"#d71149","border-color":"#d71149","border-radius":"3px"},attrs:{block:"",type:"submit"}},[t.loading?e("b-spinner",{staticStyle:{width:"1rem",height:"1rem"},attrs:{label:"Loading"}}):e("div",[t._v("\n                GANTI\n            ")])],1)],1):t._e()],1)},se=[],re={props:["value"],data:function(){return{form:{whatsapp:"",password:"",confirm_password:""},show:!0,access_token:"",role:"",loading:!1,showMessage:!1,message:""}},watch:{access_token:function(t){localStorage.access_token=t},role:function(t){localStorage.role=t}},mounted:function(){localStorage.access_token&&(this.access_token=localStorage.access_token),localStorage.role&&(this.role=localStorage.role)},methods:{change_password:function(t){var a=this,e="https://backend-pondok.senyumindonesia.org/user/change-password",n={Authorization:this.access_token,"Content-Type":"application/json"};B.a.post(e,t,{headers:n}).then(function(t){a.access_token=t.data.data.access_token,localStorage.access_token=t.data.data.access_token,a.role=t.data.data.role,localStorage.role=t.data.data.role,a.message="Password berhasil diubah",a.showMessage=!0,a.loading=!1,a.$emit("input",a.message)}).catch(function(t){a.message="Gagal mengubah password. Coba beberapa saat lagi",a.showMessage=!0,a.loading=!1,a.$emit("input",a.message)})},onSubmit:function(t){var a=this;t.preventDefault(),this.form.password===this.form.confirm_password&&this.$bvModal.msgBoxConfirm("Apakah anda yakin?").then(function(t){if(t){var e={password:a.form.password};a.loading=!0,a.change_password(e)}}).catch(function(t){})}},components:{}},ie=re,le=(e("999b"),Object(l["a"])(ie,oe,se,!1,null,"4e75e1ea",null)),ce=le.exports,ue={data:function(){return{message:"",variant:"",passed_message:"",not_logged_in:!1}},mounted:function(){var t=localStorage.role;localStorage.access_token||this.$router.push("/"),"admin"==t&&this.$router.push("/admin/summary")},watch:{message:function(t){if("Password berhasil diubah"==t)this.variant="success";else{if(""==t)return;this.variant="danger","Gagal mengubah password. Coba beberapa saat lagi"==t&&(this.not_logged_in=!0)}this.passed_message=this.message,this.message="",this.$bvModal.show("bv-modal-example")}},methods:{afterOkReload:function(){window.location.reload()},afterOkHide:function(){this.$bvModal.hide("bv-modal-example")}},components:{NavBar:k,ChangePassword:ce,Modal:mt}},de=ue,me=(e("ee83"),Object(l["a"])(de,ee,ne,!1,null,"19bdb8ab",null)),fe=me.exports,pe=[{path:"/",name:"home",component:Q},{path:"/register",name:"register",component:Q},{path:"/login",name:"login",component:ht},{path:"/thank-you",name:"thank-you",component:Ot},{path:"/admin/biodata-oka",name:"biodata-oka",component:Gt},{path:"/admin/status-infaq",name:"status-infaq",component:ia},{path:"/admin/verifikasi-infaq",name:"konfirmasi-infaq",component:Va},{path:"/oka/upload-infaq",name:"upload-infaq",component:_a},{path:"/oka/change-password",name:"change-password",component:fe},{path:"/admin/upload-infaq",name:"admin-upload-infaq",component:Ia},{path:"/admin/summary",name:"admin-summary",component:ae}],be=new m["a"]({routes:pe,mode:"history"}),he=be,ge=e("e3c4"),ve=e.n(ge);n["default"].config.productionTip=!1,n["default"].use(ve.a),n["default"].use(d["a"]),n["default"].use(m["a"]),new n["default"]({render:function(t){return t(u)},router:he}).$mount("#app")},6055:function(t,a,e){},"64a9":function(t,a,e){},"6bd9":function(t,a,e){"use strict";var n=e("3bcd"),o=e.n(n);o.a},"797f":function(t,a,e){},"7b8b":function(t,a,e){t.exports=e.p+"img/logo-senyum-indonesia-putih.2ba1f287.svg"},"86f1":function(t,a,e){"use strict";var n=e("42ac"),o=e.n(n);o.a},9408:function(t,a,e){},9611:function(t,a,e){"use strict";var n=e("97b2"),o=e.n(n);o.a},"96eb":function(t,a,e){"use strict";var n=e("2d20"),o=e.n(n);o.a},"97b2":function(t,a,e){},"999b":function(t,a,e){"use strict";var n=e("9408"),o=e.n(n);o.a},a89e:function(t,a,e){},a8d2:function(t,a,e){"use strict";var n=e("4d04"),o=e.n(n);o.a},a8ff:function(t,a,e){},abac:function(t,a,e){"use strict";var n=e("410d"),o=e.n(n);o.a},c7b0:function(t,a,e){"use strict";var n=e("0e2e"),o=e.n(n);o.a},c90b:function(t,a,e){"use strict";var n=e("ceb1"),o=e.n(n);o.a},ceb1:function(t,a,e){},cfc5:function(t,a,e){},dd5f:function(t,a,e){"use strict";var n=e("cfc5"),o=e.n(n);o.a},e7b3:function(t,a,e){"use strict";var n=e("31ed"),o=e.n(n);o.a},ea8b:function(t,a,e){"use strict";var n=e("a8ff"),o=e.n(n);o.a},eade:function(t,a,e){"use strict";var n=e("a89e"),o=e.n(n);o.a},ee83:function(t,a,e){"use strict";var n=e("0e72"),o=e.n(n);o.a},f3cf:function(t,a,e){},f86b:function(t,a,e){"use strict";var n=e("fcc3"),o=e.n(n);o.a},f87d:function(t,a,e){},fc08:function(t,a,e){"use strict";var n=e("797f"),o=e.n(n);o.a},fcc3:function(t,a,e){}});
//# sourceMappingURL=app.3a5873cc.js.map